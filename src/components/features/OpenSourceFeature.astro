---
import FeatureLayout from "../../layouts/FeatureLayout.astro";
import {Octokit} from "@octokit/rest";

const octokit = new Octokit();
const repoResponse = await octokit.repos.get({
    owner: 'Pan4ur',
    repo: 'ThunderHack-Recode'
});
const starsCount = repoResponse.data.stargazers_count;

const contributorsResponse = await octokit.repos.listContributors({
    owner: "Pan4ur",
    repo: "ThunderHack-Recode"
});
const contributorsCount = contributorsResponse.data.length;
---

<FeatureLayout>
    <li class="mr-20 ml-20 mt-20">
        <div>
            <p>{starsCount} stars</p>
            <p>{contributorsCount}</p>
        </div>
    </li>
    <h2>Opensource</h2>
</FeatureLayout>

<style>
    li {
        list-style: none;
        display: flex;
        padding: 1px;
        background-color: var(--primary-black);
        background-size: 400%;
        background-position: 100%;
        transition: background-position 0.6s cubic-bezier(0.22, 1, 0.36, 1);
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1);
    }

    li > div {
        width: 100%;
        text-decoration: none;
        line-height: 1.4;
        padding: calc(1.5rem - 1px);
        color: white;
        background-color: var(--primary-black);
        opacity: 0.8;
    }

    p {
        margin-top: 0.5rem;
        margin-bottom: 0;
    }

    li:is(:hover, :focus-within) {
        background-position: 0;
        background-image: var(--gradient);
    }

    li:is(:hover, :focus-within) h2 {
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
</style>
